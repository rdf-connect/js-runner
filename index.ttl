@prefix prov: <http://www.w3.org/ns/prov#>.
@prefix sds: <https://w3id.org/sds#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix owl: <http://www.w3.org/2002/07/owl#>.
@prefix rdfl: <https://w3id.org/rdf-lens/ontology#>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix sh: <http://www.w3.org/ns/shacl#>.
@prefix rdfc: <https://w3id.org/rdf-connect#>.

# rdfc:LogProcessor a rdfc:JsProcessor;
#   rdfs:label "Simple Log Processor";
#   rdfs:comment "Logs incoming messages";
#   rdfc:entrypoint <./>;
#   rdfc:file <./lib/util_processors.js>;
#   rdfc:class "LogProcessor".
# [ ] a sh:NodeShape; sh:targetClass rdfc:LogProcessor;
#   sh:property [
#     sh:path rdfc:reader;
#     sh:name "reader";
#     sh:minCount 1;
#     sh:maxCount 1;
#     sh:class rdfc:Reader;
#   ].
# rdfc:JsRunner a rdfc:CommandRunner;
#   rdfc:command "npx js-runner";
#   rdfc:processor_definition <JsProcessorShape>.
#
rdfc:JsRunner a rdfc:CommandRunner;
  rdfc:handles rdfc:JsProcessor;
  rdfc:command "node node_modules/@rdfc/js-runner/bin/runner.js";
  rdfc:processor_definition <JsProcessorShape>.

rdfc:NodeRunner a rdfc:Runner;
  rdfc:handlesSubjectsOf rdfc:jsImplementationOf;
  rdfc:command "npx js-runner";
  rdfc:processor_definition <JsProcessorShape>.

# rdfc:NodeRunner a rdfc:JsRunner;
#   rdfc:command "npx js-runner";
#   rdfc:processor_definition <JsProcessorShape>.
rdfc:BunRunner a rdfc:Runner;
  rdfc:handlesSubjectsOf rdfc:jsImplementationOf;
  rdfc:command "bunx js-runner";
  rdfc:processor_definition <JsProcessorShape>.

sds:Activity rdfs:subClassOf prov:Activity.
rdfc:Processor rdfs:subClassOf sds:Activity.
sds:implementationOf rdfs:subPropertyOf rdfs:subClassOf.
rdfc:jsImplementationOf rdfs:subPropertyOf sds:implementationOf.
[ ] a sh:NodeShape;
  sh:targetSubjectsOf rdfc:jsImplementationOf;
  sh:property [
    sh:path rdfc:entrypoint;
    sh:name "location";
    sh:minCount 1;
    sh:maxCount 1;
    sh:datatype xsd:string;
  ], [
    sh:path rdfc:file;
    sh:name "file";
    sh:minCount 1;
    sh:maxCount 1;
    sh:datatype xsd:string;
  ], [
    sh:path rdfc:class;
    sh:name "clazz";
    sh:maxCount 1;
    sh:datatype xsd:string;
  ].

